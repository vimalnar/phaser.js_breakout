<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Atari Breakout with Phaser - Enhanced Version</title><script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script></head><body><script>var paddle,ball,bricks,cursors,scoreText,livesText,gameOverText,config={type:Phaser.AUTO,width:850,height:600,backgroundColor:"#2d2d2d",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:{preload:preload,create:create,update:update}},game=new Phaser.Game(config),score=0,lives=3,gameStarted=!1,gameOver=!1,ballInitialSpeed=250,paddleSpeed=500;function preload(){var e=this.make.graphics({x:0,y:0,add:!1});e.fillStyle(16777215,1),e.fillRect(0,0,100,20),e.generateTexture("paddle",100,20);var t=this.make.graphics({x:0,y:0,add:!1});t.fillStyle(16777215,1),t.fillCircle(10,10,10),t.generateTexture("ball",20,20),this.brickColors=[16711680,16776960,65280,255],this.brickWidth=50,this.brickHeight=20;for(var i=0;i<this.brickColors.length;i++){var l=this.brickColors[i],a=this.make.graphics({x:0,y:0,add:!1});a.fillStyle(l,1),a.fillRect(0,0,this.brickWidth,this.brickHeight),a.generateTexture("brick"+i,this.brickWidth,this.brickHeight)}}function create(){(paddle=this.physics.add.sprite(config.width/2,config.height-50,"paddle").setImmovable()).body.allowGravity=!1,paddle.setCollideWorldBounds(!0),(ball=this.physics.add.sprite(config.width/2,config.height-70,"ball")).setCollideWorldBounds(!0),ball.setBounce(1),ball.body.onWorldBounds=!0,bricks=this.physics.add.staticGroup();for(var e=0;e<4;e++)for(var t=0;t<14;t++){var i=65+t*(this.brickWidth+5),l=50+e*(this.brickHeight+5);bricks.create(i,l,"brick"+e).setImmovable()}this.physics.add.collider(ball,paddle,hitPaddle,null,this),this.physics.add.collider(ball,bricks,hitBrick,null,this),cursors=this.input.keyboard.createCursorKeys(),scoreText=this.add.text(16,16,"Score: 0",{fontSize:"20px",fill:"#ffffff"}),livesText=this.add.text(700,16,"Lives: 3",{fontSize:"20px",fill:"#ffffff"}),this.input.keyboard.on("keydown-SPACE",function(){gameOver?(this.scene.restart(),score=0,gameStarted=gameOver=!(lives=3)):gameStarted||(ball.setVelocity(Phaser.Math.Between(-ballInitialSpeed,ballInitialSpeed),-ballInitialSpeed),gameStarted=!0,gameOverText&&gameOverText.destroy(),instructionText&&instructionText.destroy())},this)}function update(){cursors.left.isDown?paddle.setVelocityX(-paddleSpeed):cursors.right.isDown?paddle.setVelocityX(paddleSpeed):paddle.setVelocityX(0),paddle.x<paddle.width/2?paddle.x=paddle.width/2:paddle.x>config.width-paddle.width/2&&(paddle.x=config.width-paddle.width/2),gameStarted||(ball.setX(paddle.x),ball.setY(paddle.y-20)),ball.y>config.height-20&&loseLife.call(this)}function hitPaddle(e,t){var i=0;e.x<t.x?(i=t.x-e.x,e.body.velocity.x=-10*i):e.x>t.x?(i=e.x-t.x,e.body.velocity.x=10*i):e.body.velocity.x=2+8*Math.random(),e.body.velocity.y=-Math.abs(e.body.velocity.y)}function hitBrick(e,t){t.disableBody(!0,!0),score+=10,scoreText.setText("Score: "+score),0===bricks.countActive()&&(gameStarted=!(gameOver=!0),e.disableBody(!0,!0),(gameOverText=this.add.text(config.width/2,config.height/2,"YOU WON!\nClick to Restart",{fontSize:"40px",fill:"#ffffff",align:"center"})).setOrigin(.5))}function loseLife(){lives--,livesText.setText("Lives: "+lives),paddle.setTint(16711680);var d=Phaser.Display.Color.ValueToColor(16711680),r=Phaser.Display.Color.ValueToColor(16777215);0<lives?(gameStarted=!1,ball.setVelocity(0),ball.setPosition(paddle.x,paddle.y-20),this.time.delayedCall(1e3,function(){this.tweens.add({targets:{t:0},t:1,duration:1e3,onUpdate:function(e,t){var i=t.t,l=Phaser.Display.Color.Interpolate.ColorWithColor(d,r,1,i),a=Phaser.Display.Color.GetColor(l.r,l.g,l.b);paddle.setTint(a)},onComplete:function(){paddle.clearTint()},onCompleteScope:this})},[],this)):(gameStarted=!(gameOver=!0),ball.disableBody(!0,!0),(gameOverText=this.add.text(config.width/2,config.height/2,"GAME OVER\nClick to Restart",{fontSize:"40px",fill:"#ffffff",align:"center"})).setOrigin(.5),paddle.clearTint())}</script><h1>Breakout</h1><p>Use <b>Spacebar</b> to release the ball, and <b>Left</b>+<b>Right</b> to control the paddle.</p></body></html>